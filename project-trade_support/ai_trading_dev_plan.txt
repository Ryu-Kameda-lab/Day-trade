
AI仮想通貨デイトレード
アシスタントシステム
開発計画書
──────────────────────────────
対象取引所: MEXC（先物取引）
開発言語: Python
AIサービス: OpenAI / Claude AI / Gemini
作成日: 2026年2月13日

1. プロジェクト概要
1.1 背景と目的
MEXC取引所での仮想通貨先物デイトレードにおいて、銘柄選定・チャート分析・エントリーポイントの考案・ポジション監視にかかる人的負荷をAIで自動化する。ただし、実際のポジションのオープン・クローズはユーザーが手動で行う設計とし、完全自動売買は行わない。
1.2 システム全体像
本システムは以下の4つの主要モジュールで構成される。
モジュール	機能概要	主要技術
① 銘柄スクリーニング	変動率・出来高・ボラティリティ等で商機のある銘柄を自動抽出	MEXC API + pandas
② チャート分析	RSI・EMA・出来高等のテクニカル指標を算出しAIが総合判断	TA-Lib / pandas-ta + LLM
③ 取引手法考案	エントリー・利確・損切りポイントをAIが提案	LLM (Claude / GPT / Gemini)
④ ポジション監視	定期的にチャートを確認し、シナリオ崩壊時にメール通知	APScheduler +  Webhook

1.3 制約条件
●実際の注文執行（ポジションオープン・クローズ）は必ずユーザーが手動で行う
●AIは「提案」と「監視」のみを担当し、最終判断は常にユーザーが下す
●AIの提案は投資助言ではなく、テクニカル分析に基づく参考情報である


2. システムアーキテクチャ
2.1 技術スタック
カテゴリ	技術・ツール
プログラミング言語	Python 3.11+
取引所API	MEXC API v3（REST + WebSocket）※ ccxtライブラリ経由でも可
テクニカル分析	pandas-ta / TA-Lib / numpy / pandas
AIサービス	OpenAI GPT-4.1（メイン分析） / Claude API（レビュー・検証） / Gemini（補助分析）
スケジューラ	APScheduler（定期実行） / cron（Linux環境）
通知	Discord Webhook
UI（ダッシュボード）	Streamlit または Flask + HTML
データ保存	SQLite（軽量） / JSONファイル

2.2 ディレクトリ構成
crypto_ai_trader/
├── main.py                   # アプリケーションエントリポイント
├── config/
│   ├── settings.py           # APIキー・各種設定値
│   └── trading_params.py     # 取引パラメータ（リスク許容度等）
├── modules/
│   ├── screener.py           # ① 銘柄スクリーニング
│   ├── analyzer.py           # ② チャート分析
│   ├── strategist.py         # ③ 取引手法考案
│   ├── monitor.py            # ④ ポジション監視
│   └── notifier.py           # 通知モジュール
├── ai/
│   ├── llm_client.py         # LLM APIラッパー（OpenAI/Claude）
│   └── prompts.py            # プロンプトテンプレート
├── exchange/
│   └── mexc_client.py        # MEXC APIラッパー
├── dashboard/
│   └── app.py                # Streamlitダッシュボード
├── data/                         # ログ・履歴データ
└── tests/                        # テストコード


3. 各モジュール詳細設計
3.1 銘柄スクリーニングモジュール（screener.py）
目的
MEXC先物市場の全銘柄から、デイトレードに適した「商機のある銘柄」を自動的に絞り込む。
スクリーニング基準
指標	条件	用途
24h変動率	絶対値 3%以上（調整可能）	ボラティリティ確認
24h取引量	上位20%以内（流動性確保）	スリッページ回避
ボラティリティ	ATR（14期間）が一定以上	値動きの大きさ
トレンド強度	ADX > 25（明確なトレンドが存在）	レンジ相場回避
出来高急変	直近5分の出来高が過去1時間平均の2倍以上	異常検知

処理フロー
1.MEXC APIで全先物銘柄のティッカー情報を取得
2.上記スクリーニング基準でフィルタリング
3.候補銘柄をスコアリング（各指標の重み付け合計）でランキング
4.上位5〜10銘柄を「分析対象」として次モジュールに渡す
実行頻度
毎朝定刻（例: 日本時間 12:00）に自動実行。ユーザーからの手動実行も可能。


3.2 チャート分析モジュール（analyzer.py）
目的
選定された銘柄に対し、複数のテクニカル指標を算出し、AIが総合的な相場判断を行う。
使用テクニカル指標
指標	パラメータ	判断基準
RSI	14期間（15分足・1時間足）	30以下=売られ過ぎ / 70以上=買われ過ぎ
EMA	9, 21, 55, 200期間	ゴールデンクロス・デッドクロス検出
MACD	12, 26, 9	シグナルラインとの交差・ダイバージェンス
ボリンジャーバンド	20期間, 2σ	バンド幅・タッチ・ブレイクアウト
出来高	現在 vs 20期間平均	出来高急增でトレンド確認
フィボナッチ	23.6%, 38.2%, 50%, 61.8%	サポート・レジスタンスライン特定

AI分析の流れ
1.pandas-taで各指標を計算し、数値データを構造化
2.構造化データ + プロンプトをLLM（主にOpenAI GPT-4.1）に送信
3.LLMが「強気・弱気・中立」の判定と根拠を返却
4.必要に応じてClaude APIでクロスチェック（セカンドオピニオン）
マルチタイムフレーム分析
デイトレードの精度を高めるため、複数時間足で分析を行う。上位足（4時間足・1時間足）で大きなトレンドを確認し、下位足（15分足・5分足）でエントリータイミングを特定する。


3.3 取引手法考案モジュール（strategist.py）
目的
チャート分析結果を基に、AIが具体的なエントリーポイント・利確ライン・損切りラインを提案する。
AIが出力する情報
項目	内容
推奨方向	Long / Short / 見送り
エントリー価格	具体的な価格またはレンジ（例: $65,200〜$65,400）
利確ライン（TP）	第1利確・第2利確の2段階設定
損切りライン（SL）	明確な価格とその根拠（サポートライン等）
リスクリワード比	R:R 比の計算結果（1:2以上を推奨）
信頼度	高・中・低（複数指標の合致度に基づく）
シナリオ崩壊条件	「この条件が崩れたら撤退」という明確な基準

プロンプト設計のポイント
LLMには以下の形式で情報を渡し、構造化されたJSON形式で回答を得る。
●現在価格・各テクニカル指標の数値データ
●直近のローソク情報（高値・安値・始値・終値）
●マルチタイムフレームの分析結果
●ユーザー設定のリスク許容度（例: 資金の2%まで）
ダブルチェック機構
信頼性向上のため、2つのAIモデルに独立して分析させ、結果が大きく乖離した場合は「見送り」とする。例えばGPT-4.1でメイン分析、Claudeでセカンドオピニオン、両者が一致した場合のみ提案を採用する。


3.4 ポジション監視モジュール（monitor.py）
目的
エントリー後、定期的にチャートを確認し、シナリオ崩壊時にユーザーに通知する。
監視サイクル
確認項目	チェック内容	頻度
価格監視	現在価格 vs TP/SLライン	毎分30秒（WebSocket）
テクニカル確認	RSI・EMA・MACDの状態変化	毎5分
シナリオ判定	崩壊条件に該当するかをAIが判断	毎15分
出来高異常	急激な出来高変動を検知	毎1分

通知トリガー
●シナリオ崩壊検知: AIが崩壊と判断→緊急通知（Discord）
●利確ライン接近: TPの90%到達時に通知
●損切りライン接近: SLの80%到達時に警告
●定期レポート: 1時間ごとに現在ポジション状況のサマリを送信
通知方法
以下の3つの通知チャンネルをサポートする。ユーザーが設定で選択可能。
●Discord Webhook: Webhook URLで指定チャンネルに通知。


4. AI連携設計
4.1 AIモデルの役割分担
AIモデル	主な役割	選定理由	使用場面
GPT-4.1	メイン分析担当	JSON出力が安定・構造化に強い	チャート分析・戦略提案
Claude	レビュー・検証	論理的思考・リスク評価が得意	セカンドオピニオン・リスク判定
Gemini	補助分析・市場ニュース	大コンテキスト・コスト効率	ニュース分析・トレンド確認

4.2 プロンプト設計戦略
AIへのプロンプトは以下の原則で設計する。
●役割定義: 「あなたは仮想通貨先物のデイトレード専門のテクニカルアナリスト」と役割を明確化
●出力形式指定: JSON Schemaで出力形式を厳密に定義（プログラムでパース可能に）
●コンテキスト提供: 数値データを明確に提示（「なんとなく」ではなく具体的に）
●バイアス排除: 「必ず取引提案を出す必要はない」と明記し、見送り判断も許容
4.3 コスト管理
APIコストを抑えるため、以下の戦略を採用する。
●メイン分析はGPT-4.1（コストパフォーマンスのバランス良）、定期監視の判定はGemini Flash（低コスト）を使用
●テクニカル指標の計算はpandas-taでローカル実行し、AIには「判断」のみを依頼
●結果キャッシュで同一銘柄の短期間再分析を抑制
●月額コスト上限を設定し、超過時は警告


5. ダッシュボード（UI）
5.1 採用技術
Streamlitを使用し、Pythonのみでダッシュボードを構築する。HTML/CSS/JavaScriptの知識が不要で、コーディング初心者でも扱いやすい。
5.2 画面構成
ページ	主な機能
ホーム	スクリーニング結果一覧・各銘柄のスコア・推奨銘柄ハイライト
分析詳細	選択銘柄のチャート・テクニカル指標・ AI分析コメント表示
取引提案	エントリー/TP/SLの提案表示・「取引開始」「取引終了」ボタン
監視モニター	アクティブポジションのリアルタイム状況・通知履歴・監視ステータス
設定	APIキー・通知先・リスク許容度・スクリーニングパラメータの設定

5.3 取引ボタンの動作
「取引開始」ボタン押下時の動作は以下の通り。
1.ユーザーが「取引開始」ボタンをクリック
2.確認ダイアログで銘柄・方向・レバレッジ・数量を最終確認
3.MEXC API経由で指値/成行注文を発行
4.同時にTP/SL注文も自動設定
5.監視モジュールが自動起動


6. 開発スケジュール
コーディング初心者の個人開発を前提とした皔実なスケジュールを以下に示す。
フェーズ	作業内容	成果物
Phase 1		環境構築・MEXC API接続・データ取得確認	mexc_client.py動作確認
Phase 2		銘柄スクリーニングモジュール開発	screener.py完成
Phase 3		チャート分析 + AI連携開発	analyzer.py + llm_client.py
Phase 4		取引手法考案モジュール開発	strategist.py完成
Phase 5		監視モジュール + 通知機能開発	monitor.py + notifier.py
Phase 6		Streamlitダッシュボード開発	dashboard/app.py
Phase 7		統合テスト・ペーパートレード・調整	全モジュール統合版


7. リスク管理と注意事項
7.1 技術的リスク
リスク	影響	対策
APIレート制限	データ取得失敗	リトライ処理・キャッシュ実装
LLMのハルシネーション	誤った分析結果	ダブルチェック + 数値検証
MEXC API障害	監視・注文不可	障害検知と緊急通知
ネットワーク断絶	全機能停止	VPS運用 + ヘルスチェック

7.2 取引リスクの制御
●1トレードあたりの最大損失を資金の2〜4%に制限
●レバレッジ上限を設定可能に（初期設定: 10倍以下推奨）
●連続損失カウンター（3回連続で自動休止提案）

7.3 重要な免責事項
本システムはテクニカル分析に基づく参考情報を提供するツールであり、投資助言には該当しない。AIの分析結果は必ずしも正確ではなく、先物取引は元本以上の損失が発生する可能性がある。全ての投資判断はユーザー自身の責任で行うこと。


8. 必要なライブラリ一覧
ライブラリ	用途	インストール
ccxt	取引所APIラッパー	pip install ccxt
pandas / numpy	データ処理	pip install pandas numpy
pandas-ta	テクニカル指標計算	pip install pandas-ta
openai	OpenAI APIクライアント	pip install openai
anthropic	Claude APIクライアント	pip install anthropic
google-generativeai	Gemini APIクライアント	pip install google-generativeai
streamlit	ダッシュボードUI	pip install streamlit
apscheduler	スケジュール実行	pip install apscheduler
python-dotenv	環境変数管理	pip install python-dotenv
plotly	チャート描画	pip install plotly


9. 次のステップ
本計画書を基に、以下の順序で開発を開始する
1.Python環境構築（venv + 必要ライブラリインストール）
2.MEXC API接続テスト（ティッカー情報取得で動作確認）
3.各AIサービスのAPI接続テスト
4.スクリーニングモジュールから順番に開発開始

各フェーズの実装時には、本計画書の詳細設計を参照しながら、各モジュール単位でテストを行い、段階的に統合していくことを推奨する。